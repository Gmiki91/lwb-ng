<div class="container">
    <mat-button-toggle-group>
        <mat-button-toggle *ngFor="let subject of subjects" value="subject" (change)="changedSubject(subject)">
            {{subject}}
        </mat-button-toggle>
    </mat-button-toggle-group>
    <div *ngIf="subject">
        <app-mark [data]="resultData" (save)="save($event)"></app-mark>
        <table [ngClass]="editingId? 'inactive':''" >
            <tr>
                <th>NAMES/DATE</th>
                <th *ngFor="let month of months">{{month.name}}</th>
                <th>Grades</th>
            </tr>
            <tr *ngFor="let student of data$|async">
                <th>{{student.fullNameC}}</th>
                <td *ngFor="let month of months">
                    <span [ngClass]="['clickable',redMark===result ? 'red' : '' ]" *ngFor="let result of ratedInMonth(month.value,student.results)"
                        (click)="editMark(student._id,result)"
                        >
                        {{result.mark}}</span>
                </td>
                <td class="marks">
                    <mat-radio-group (change)="changeMark(student._id,$event.value)">
                        <mat-radio-button [disabled]="editingId!==undefined" *ngFor="let number of [1,2,3,4,5]" [value]="number">
                            <span class="wrap-mat-radio-label">{{number}}</span>
                        </mat-radio-button>
                    </mat-radio-group>
                </td>
            </tr>
        </table>
    </div>
</div>